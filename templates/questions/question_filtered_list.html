{% extends "_base.html" %}

{% load crispy_forms_tags %}

{% block title %}Questions{% endblock title %}

{% block content %}
  <div class="d-flex flex-row align-items-end">
    <h1 class="mr-3">Questions</h1>
    <button class="btn btn-secondary btn-sm mb-4" type="button" data-toggle="collapse" data-target="#multiCollapseExample2" aria-expanded="false" aria-controls="multiCollapseExample2">
      Filter questions
    </button>
  </div>
  <div class="filter-form bg-light mb-5 p-4 collapse multi-collapse" id="multiCollapseExample2">
    <form action="" method="get">
      {{ filter.form|crispy }}
      <input class="btn btn-info" type="submit" />
      <a class="btn btn-light" href="{% url 'question_filtered_list' %}">Clear</a>
    </form>
  </div>

  <div class="question-list">
    <h2>Results</h2>
  {% for question in filter.qs %}
    <h3>
      <a class="{% if question.date_published %}text-primary{% else %}text-secondary{% endif %}" href="{% url 'question_detail' question.pk %}">
        {{ question.question_text }}
      </a>
    </h3>
  {% endfor %}
</div><!-- .question-list -->
{% endblock content %}
